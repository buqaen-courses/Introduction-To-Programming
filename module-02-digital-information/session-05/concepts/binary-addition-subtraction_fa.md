# جمع و تفریق دودویی: کامپیوترها چگونه حساب می‌کنند

## مقدمه: حساب دودویی مثل حساب معمولی است

اگر می‌توانید اعداد معمولی را جمع و تفریق کنید، می‌توانید در دودویی هم این کار را انجام دهید! قواعد واقعاً ساده‌تر هستند چون فقط با ۰ و ۱ کار می‌کنید.

حساب دودویی را مانند کار با کلیدهای روشنایی تصور کنید:
- **۰** = کلید خاموش
- **۱** = کلید روشن
- **رقم نقلی** = وقتی کلیدهای روشن زیادی دارید، سرریز را به موقعیت بعدی منتقل می‌کنید

---

## جمع دودویی: چهار قاعده

### جدول جمع پایه

جمع دو بیت چهار ترکیب ممکن به ما می‌دهد:

| A | B | مجموع | رقم نقلی | توضیحات |
|---|---|-------|----------|---------|
| ۰ | ۰ | ۰ | ۰ | هیچ + هیچ = هیچ |
| ۰ | ۱ | ۱ | ۰ | هیچ + یک = یک |
| ۱ | ۰ | ۱ | ۰ | یک + هیچ = یک |
| ۱ | ۱ | ۰ | ۱ | یک + یک = دو (که در دودویی ۱۰ است) |

### قاعده "۱ + ۱"

پیچیده‌ترین قاعده ۱ + ۱ است:
```
در دهدهی: ۱ + ۱ = ۲
در دودویی:  ۱ + ۱ = ۱۰ (که "دو" در دهدهی است)

  ۱
+ ۱
---
 ۱۰  (۰ اینجا، رقم نقلی ۱ به ستون بعد)
```

**مثل سکه‌ها فکر کنید:**
- شما ۲ اسکناس ۱ دلاری دارید
- آنها را با ۱ اسکناس ۲ دلاری عوض می‌کنید
- این یک "رقم نقلی" به موقعیت بالاتر است!

---

## جمع دو عدد دودویی

### مثال ۱: ۵ + ۳

```
تبدیل به دودویی:
۵ = ۱۰۱
۳ = ۰۱۱

    ¹ ¹    (ارقام نقلی)
      ۱ ۰ ۱   (۵)
    + ۰ ۱ ۱   (۳)
    ---------
    ۱ ۰ ۰ ۰   (۸)

ستون به ستون انجام دهید (از راست به چپ):

ستون ۰ (راست‌ترین): ۱ + ۱ = ۰، رقم نقلی ۱
ستون ۱: ۰ + ۱ + ۱(رقم نقلی) = ۰، رقم نقلی ۱  
ستون ۲: ۱ + ۰ + ۱(رقم نقلی) = ۰، رقم نقلی ۱
ستون ۳: ۰ + ۰ + ۱(رقم نقلی) = ۱

نتیجه: ۱۰۰۰₂ = ۸۱₀ ✓ (۵ + ۳ = ۸)
```

### مثال ۲: ۶ + ۷

```
تبدیل به دودویی:
۶ = ۱۱۰
۷ = ۱۱۱

    ¹ ¹ ¹  (ارقام نقلی)
      ۱ ۱ ۰   (۶)
    + ۱ ۱ ۱   (۷)
    ---------
    ۱ ۱ ۰ ۱   (۱۳)

ستون ۰: ۰ + ۱ = ۱، بدون رقم نقلی
ستون ۱: ۱ + ۱ = ۰، رقم نقلی ۱
ستون ۲: ۱ + ۱ + ۱ = ۱، رقم نقلی ۱  (چون ۳ = ۱۱ در دودویی)
ستون ۳: ۰ + ۰ + ۱ = ۱

نتیجه: ۱۱۰۱₂ = ۱۳۱₀ ✓ (۶ + ۷ = ۱۳)
```

### مثال ۳: ۱۰ + ۵

```
۱۰ = ۱۰۱۰
۵  = ۰۱۰۱

      ۱ ۰ ۱ ۰   (۱۰)
    + ۰ ۱ ۰ ۱   (۵)
    ---------
      ۱ ۱ ۱ ۱   (۱۵)

ستون ۰: ۰ + ۱ = ۱
ستون ۱: ۱ + ۰ = ۱
ستون ۲: ۰ + ۱ = ۱
ستون ۳: ۱ + ۰ = ۱

نتیجه: ۱۱۱۱₂ = ۱۵۱₀ ✓ (۱۰ + ۵ = ۱۵)
```

---

## تفریق دودویی: چهار قاعده

### جدول تفریق پایه

| A | B | نتیجه | قرض گرفتن | توضیحات |
|---|---|--------|-----------|---------|
| ۰ | ۰ | ۰ | ۰ | هیچ - هیچ = هیچ |
| ۱ | ۰ | ۱ | ۰ | یک - هیچ = یک |
| ۱ | ۱ | ۰ | ۰ | یک - یک = هیچ |
| ۰ | ۱ | ۱ | ۱ | هیچ - یک = یک (اما باید قرض بگیریم!) |

### قاعده "۰ - ۱" (قرض گرفتن)

این مثل تفریق معمولی است وقتی عدد بالا کوچکتر است:
```
  ۲  (بعد از قرض گرفتن، تبدیل به ۱ می‌شود)
 ۱۰
-  ۱
----
   ۱
```

**فرآیند قرض گرفتن:**
۱. نزدیکترین ۱ به چپ را پیدا کنید
۲. آن ۱ تبدیل به ۰ می‌شود
۳. همه ۰های بین تبدیل به ۱ می‌شوند (۲ دریافت کرده‌اند)
۴. موقعیت راست‌ترین ۲ دریافت می‌کند (که در دودویی ۱۰ است)

---

## تفریق دو عدد دودویی

### مثال ۱: ۵ - ۳

```
۵ = ۱۰۱
۳ = ۰۱۱

    قرض گرفتن:  ۰  ۱۰ (بعد از قرض گرفتن)
      ۱ ۰ ۱   (۵)
    - ۰ ۱ ۱   (۳)
    ---------
      ۰ ۱ ۰   (۲)

ستون ۰: ۱ - ۱ = ۰
ستون ۱: ۰ - ۱ (نمی‌توانیم، باید قرض بگیریم)
          از ستون ۲ قرض بگیرید
          ستون ۲: ۱→۰، ستون ۱: ۰→۱۰ (۲ در دودویی)
          حالا: ۱۰ - ۱ = ۱
ستون ۲: ۰ - ۰ = ۰

نتیجه: ۰۱۰₂ = ۲۱₀ ✓ (۵ - ۳ = ۲)
```

### مثال ۲: ۱۳ - ۶

```
۱۳ = ۱۱۰۱
۶  = ۰۱۱۰

    قرض گرفتن:  ۰ ۱۰  ۰ ۱۰
      ۱ ۱ ۰ ۱   (۱۳)
    - ۰ ۱ ۱ ۰   (۶)
    ---------
      ۰ ۱ ۱ ۱   (۷)

ستون ۰: ۱ - ۰ = ۱
ستون ۱: ۰ - ۱ (نیاز به قرض گرفتن)
          از ستون ۲ قرض بگیرید
          ۰→۱۰ (۲)، ۱→۰
          حالا: ۱۰ - ۱ = ۱
ستون ۲: حالا ۰ است، نیاز به ۰ - ۱ دارد
          از ستون ۳ قرض بگیرید
          ۱→۰، ۰→۱۰
          حالا: ۱۰ - ۱ = ۱
ستون ۳: ۰ - ۰ = ۰

نتیجه: ۰۱۱۱₂ = ۷۱₀ ✓ (۱۳ - ۶ = ۷)
```

---

## مکمل دو: روش هوشمندانه کامپیوترها برای تفریق

### ایده بزرگ

به جای واقعاً تفریق کردن، کامپیوترها تفریق را به جمع تبدیل می‌کنند:
```
A - B = A + (-B)
```

**چرا؟** چون مدارهای کامپیوتر وقتی فقط لازم باشد جمع کند، ساده‌تر هستند!

### چگونه یک عدد را منفی کنیم (مکمل دو)

**فرآیند گام به گام:**
۱. با عدد مثبت در دودویی شروع کنید
۲. **معکوس** کنید همه بیت‌ها (۰→۱، ۱→۰) - این "مکمل یک" نامیده می‌شود
۳. **۱** به نتیجه اضافه کنید

### مثال: پیدا کردن -۵ در مکمل دو ۴ بیتی

```
مرحله ۱: ۵ مثبت در ۴ بیت
        ۵ = ۰۱۰۱

مرحله ۲: معکوس کردن همه بیت‌ها
        ۰۱۰۱ → ۱۰۱۰
        
مرحله ۳: ۱ اضافه کنید
        ۱۰۱۰ + ۱ = ۱۰۱۱

نتیجه: -۵ = ۱۰۱۱₂ (در مکمل دو ۴ بیتی)
```

### بررسی: ۵ + (-۵) = ۰

```
    ۰۱۰۱   (۵)
  + ۱۰۱۱   (-۵)
  --------
   ۱۰۰۰۰   (۱۶، اما فقط ۴ بیت داریم!)
   
در ۴ بیت: ۰۰۰۰ = ۰ ✓
(سرریز ۱ در حساب با عرض ثابت دور انداخته می‌شود)
```

### مثال: ۷ - ۳ با استفاده از مکمل دو

```
مرحله ۱: تبدیل -۳ به مکمل دو (۴ بیت)
        ۳ = ۰۰۱۱
        معکوس: ۱۱۰۰
        ۱ اضافه کنید: ۱۱۰۱
        پس -۳ = ۱۱۰۱

مرحله ۲: ۷ + (-۳) را جمع کنید
        ۷ = ۰۱۱۱
       -۳ = ۱۱۰۱
        
          ۱۱۱۱   (ارقام نقلی)
        ۰ ۱ ۱ ۱
      + ۱ ۱ ۰ ۱
      ---------
       ۱ ۰ ۱ ۰ ۰
       
فقط ۴ بیت نگه دارید: ۰۱۰۰ = ۴ ✓

نتیجه: ۷ - ۳ = ۴ ✓
```

### چرا مکمل دو هوشمندانه است

| ویژگی | مزیت |
|---------|--------|
| نمایش واحد صفر | بدون +۰ و -۰ گیج‌کننده |
| منفی کردن ساده | معکوس کردن و ۱ اضافه کردن |
| مدار جمع یکسان | نیازی به تفریق‌کننده جداگانه نیست |
| سرریز طبیعی | بیت اضافی را دور بیندازید، نتیجه درست است |
| بررسی علامت آسان | بیت چپ‌ترین: ۰=مثبت، ۱=منفی |

---

## اعداد علامت‌دار در مقابل بدون علامت

### در ۸ بیت:

**بدون علامت (فقط مثبت):**
```
۰۰۰۰۰۰۰۰ = ۰
۰۰۰۰۰۰۰۱ = ۱
...
۱۱۱۱۱۱۱۱ = ۲۵۵

بازه: ۰ تا ۲۵۵
```

**علامت‌دار (مکمل دو، مثبت و منفی):**
```
۰۰۰۰۰۰۰۰ = ۰
۰۰۰۰۰۰۰۱ = ۱
...
۰۱۱۱۱۱۱۱ = ۱۲۷ (حداکثر مثبت)
۱۰۰۰۰۰۰۰ = -۱۲۸ (حداقل منفی)
...
۱۱۱۱۱۱۱۱ = -۱

بازه: -۱۲۸ تا ۱۲۷
```

**قاعده:** در اعداد علامت‌دار، بیت چپ‌ترین علامت را به شما می‌گوید.
- **۰** = مثبت یا صفر
- **۱** = منفی

---

## سرریز: وقتی اعداد خیلی بزرگ می‌شوند

### سرریز چیست؟

وقتی نتیجه یک عملیات خیلی بزرگ است که در بیت‌های موجود جا نشود.

### مثال: سرریز ۸ بیتی

```
حداکثر مقدار بدون علامت ۸ بیتی: ۲۵۵

سعی کنید: ۲۰۰ + ۱۰۰ = ۳۰۰
     ۱۱۰۰۱۰۰۰   (۲۰۰)
   + ۰۱۱۰۰۱۰۰   (۱۰۰)
   ----------
    ۱۰۰۱۰۱۱۰۰   (۳۰۰)
    
در ۸ بیت: ۰۰۱۰۱۱۰۰ = ۴۴ (اشتباه!)

ما بیت رقم نقلی را از دست دادیم، پس ۴۴ به جای ۳۰۰ گرفتیم.
این سرریز است!
```

### تشخیص سرریز

**در جمع بدون علامت:**
- اگر رقم نقلی از بیت چپ‌ترین خارج شود → سرریز رخ داده

**در جمع علامت‌دار:**
- اگر جمع دو مثبت یک منفی بدهد → سرریز
- اگر جمع دو منفی یک مثبت بدهد → سرریز

---

## تمرین‌های عملی

### تمرین ۱: جمع دودویی
این اعداد دودویی را جمع کنید (ارقام نقلی را نشان دهید):

۱. ۰۰۱۱ + ۰۱۰۱ = _______
۲. ۰۱۱۰ + ۰۰۱۱ = _______
۳. ۱۰۱۰ + ۰۱۱۰ = _______
۴. ۱۱۱۱ + ۰۰۰۱ = _______ (چه اتفاقی می‌افتد؟)

### تمرین ۲: تفریق دودویی
این اعداد دودویی را تفریق کنید (قرض گرفتن را نشان دهید):

۱. ۱۰۰۰ - ۰۰۱۱ = _______
۲. ۱۱۰۱ - ۰۱۱۰ = _______
۳. ۱۰۱۰ - ۰۱۰۱ = _______

### تمرین ۳: مکمل دو
اینها را به مکمل دو ۸ بیتی تبدیل کنید:

۱. -۵ = _______
۲. -۱۰ = _______
۳. -۱ = _______

### تمرین ۴: بررسی با جمع
از مکمل دو برای بررسی استفاده کنید:

۱. ۱۰ - ۴ = ؟
   - -۴ را به مکمل دو تبدیل کنید
   - ۱۰ + (-۴) را جمع کنید
   - نتیجه را بررسی کنید

### تمرین ۵: تفکر دنیای واقعی

۱. اگر از اعداد بدون علامت ۴ بیتی استفاده می‌کنید، بزرگترین عددی که می‌توانید نمایش دهید چیست؟
۲. اگر از اعداد علامت‌دار ۴ بیتی استفاده می‌کنید، بازه چیست؟
۳. چرا فکر می‌کنید کامپیوترهای مدرن از اعداد ۶۴ بیتی استفاده می‌کنند؟

---

## نکات کلیدی

۱. **جمع دودویی از چهار قاعده ساده استفاده می‌کند**: ۰+۰=۰، ۰+۱=۱، ۱+۰=۱، ۱+۱=۱۰ (۰ با رقم نقلی ۱)

۲. **تفریق دودویی شامل قرض گرفتن است**: مانند دهدهی، اما ساده‌تر (فقط ۰ و ۱)

۳. **مکمل دو نحوه ذخیره منفی‌ها در کامپیوتر است**: معکوس کردن بیت‌ها و ۱ اضافه کردن

۴. **تفریق تبدیل به جمع می‌شود**: A - B = A + (-B)، با استفاده از مکمل دو

۵. **سرریز وقتی رخ می‌دهد که نتایج خیلی بزرگ باشند**: تشخیص و مدیریت آن مهم است

## به یاد داشته باشید

### برگه تقلب جمع
```
۰ + ۰ = ۰
۰ + ۱ = ۱
۱ + ۰ = ۱
۱ + ۱ = ۱۰ (۰ بنویسید، رقم نقلی ۱)
```

### برگه تقلب تفریق
```
۰ - ۰ = ۰
۱ - ۰ = ۱
۱ - ۱ = ۰
۰ - ۱ = ۱ (با قرض گرفتن)
```

### مراحل مکمل دو
```
۱. عدد مثبت را بنویسید
۲. همه بیت‌ها را معکوس کنید (۰→۱، ۱→۰)
۳. ۱ اضافه کنید
```

---

## گام‌های بعدی

- تمرین بیشتر مسائل جمع و تفریق
- یادگیری ضرب و تقسیم دودویی
- درک نحوه انجام این عملیات توسط CPU
- بررسی BCD (دهدهی کدگذاری شده با دودویی)
